<div>
    <div class="col-md-6 col-md-offset-1" *ngIf="visKundeListe">
        <div *ngIf="laster">Laster spørsmål og svar.....</div>
        <div *ngFor="let item of alleKunder | grupper:'kategoriid'; let j=index">
            <div *ngFor="let value of item.value; let i=index">
                <div *ngIf="i<1">
                    <h2 data-toggle="collapse" [attr.data-target]="'#col' + j">Kategori {{value.kategori}} har:</h2>
                    <div class="collapse" [attr.id]="'col' + j">
                        <div *ngFor="let value of item.value">
                            <p data-toggle="collapse" [attr.data-target]="'#qa' + j">{{value.sporsmal}}</p>
                            <p class="collapse" [attr.id]="'qa' + j">{{value.svar}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button class='btn btn-primary' (click)='registrerInnsendt()'>Register sporsmal</button>
        <button class='btn btn-primary' (click)='visInnsendt()'>Innsendt sporsmal</button>
    </div>
</div>

<div class="col-md-6 col-md-offset-1" *ngIf="visInnsendtListe">
        
    <table class="table table-bordered table-condensed">
        <thead>
            <tr>
                <th>Email</th>
                <th>Sporsmal</th>
            </tr>
        </thead>
        <tbody *ngFor="let is of alleInnsendt">
            <tr>
                <td>{{is.email}}</td>
                <td>{{is.sendtsporsmal}}</td>
            </tr>
        </tbody>
    </table>
        
    <button class="btn btn-default" (click)="tilbakeTilListe()">Tilbake</button>
</div>

<div class="col-sm-4 col-sm-offset-2" *ngIf="visSkjema">
    <form [formGroup]="skjema" (ngSubmit)="vedSubmit()">
        <input class="form-control" formControlName="id" type="hidden" />
        <div class="form-group">
            <label>Email</label>
            <input class="form-control" formControlName="email" />
            <p class="alert alert-warning" [hidden]="skjema.controls.email.valid || (skjema.controls.email.pristine && !submitted)">
                Email er obligatorisk.
            </p>
        </div>
        <div class="form-group">
            <label>Sporsmal</label>
            <input class="form-control" formControlName="sendtsporsmal" />
            <p class="alert alert-warning" [hidden]="skjema.controls.sendtsporsmal.valid || (skjema.controls.sendtsporsmal.pristine && !submitted)">
                Sporsmal er obligatorisk.
            </p>
        </div>
        <div class="form-group">
            <button type="submit" *ngIf="skjemaStatus=='Registrere'" [disabled]="!skjema.valid" class="btn btn-primary">Registrer</button>
            <button class="btn btn-default" (click)="tilbakeTilListe()">Tilbake</button>
        </div>
    </form>
</div>

